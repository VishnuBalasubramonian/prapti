
<div id="divAddClient" class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  <div class="row" style="padding-bottom: 0%;border-bottom: 1px solid #000066;" >
    <button (click)='ChooseAddClient()' type="button" class="btn btn-sm {{isAddClient == false ? 'unselected-btn' :'selected-btn' }}" style="border-bottom:0px;border-right:0px;"><i class="ti ti-plus"></i> <span>Add New Client</span></button>
    <button (click)='ChooseEditClient()' type="button" class="btn btn-sm {{isEditClient == false ? 'unselected-btn' :'selected-btn' }}" style="border-bottom:0px;"><i class="ti ti-pencil"></i> <span>Search and Update Client</span></button>
  </div>
  <ng-container  *ngIf="isAddClient == true">
    <form id="frmAddClient" class="validate-form" style=" padding-top: 12px;" #addClientForm="ngForm" >
      <div class="form-group">
        <div class="row">
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <label>Name*</label>
            <input [(ngModel)]="userCreation.userObj.Name" name="ClientName" type="text" class="form-control" required #name="ngModel"> 
            <div *ngIf="!name.valid && name.touched" class="alert alert-danger">
              <div *ngIf="name.hasError('required') && name.touched">Client Name is required</div>
            </div>
         </div>
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <label>GST Number</label>
            <input [(ngModel)]="userCreation.userObj.GST" name="GST_Number" type="text" class="form-control" #gst="ngModel">
            
          </div>
        </div>

      </div>

      <div class="form-group">
        <div class="row">
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <label>Address Line 1</label>
            <input [(ngModel)]="userCreation.userObj.Address1" name="Address_Line_1" type="text" class="form-control" #address="ngModel">
          </div>
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <label>Address Line 2</label>
            <input [(ngModel)]="userCreation.userObj.Address2" name="Address_Line_2" type="text" class="form-control">
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="row">
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <label>City</label>
            <input [(ngModel)]="userCreation.userObj.City" name="City" type="text" class="form-control"  #city="ngModel">
          </div>
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <label>Pincode</label>
            <input [(ngModel)]="userCreation.userObj.Pincode" name="Pincode" type="text" class="form-control" pattern="^[0-9]*$" #pincode="ngModel">
            <div *ngIf="!pincode.valid && pincode.touched" class="alert alert-danger">
               <div *ngIf="pincode.hasError('pattern') && pincode.touched">Please Enter a Valid Pincode</div>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="row">
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <label>Email</label>
            <input [(ngModel)]="userCreation.userObj.Email" name="Email" type="email" class="form-control" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" #email="ngModel">
            <div *ngIf="!email.valid && email.touched" class="alert alert-danger">
              <div *ngIf="email.hasError('pattern') && email.touched">Please Enter a Valid Email Address</div>
            </div>
          </div>
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <label>Phone Number</label>
            <input [(ngModel)]="userCreation.userObj.PhoneNumber" name="PhoneNumber" type="text" class="form-control" pattern="^(\+\d{1,3}[- ]?)?\d{10}$" #mobile="ngModel">
            <div *ngIf="!mobile.valid && mobile.touched" class="alert alert-danger">
              <div *ngIf="mobile.hasError('pattern') && mobile.touched">Please Enter a Valid Phone Number</div>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group form-submit">
        <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <button (click)="userCreation.saveUserInformation()" class="btn btn-block"  [disabled]="!addClientForm.form.valid" style="background: #000066; color: white;"><span>Add Client</span></button>
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <button (click)="addClientForm.resetForm()" class="btn btn-block" style="background: white; color: #000066;border: 1px solid #000066;"><span>Clear</span></button>
            </div>
          </div>
      </div>
     
    </form>
  </ng-container>
  <ng-container *ngIf="isEditClient == true">
    <form style=" padding-top: 12px;" #editClientForm="ngForm">
      <div class="form-group">
        <div class="row">
          <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">
            <select name="Client_Name" [(ngModel)]="userCreation.clientID " class="form-control">
              <option value="-1">Choose your Client</option>
              <option *ngFor="let client of userCreation.clientList" value="{{client.Key}}">{{client.Name}}</option>
            </select>
          </div>
          <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
            <button class="btn btn-block" (click)="userCreation.GetClientInformation()" style="background: white; color: #000066; border: 1px solid #000066"><span>View</span></button>
          </div>
        </div>
      </div>
      <ng-container *ngIf='userCreation.showClientInfo == true'>
        <div class="form-group">
          <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <label>Name*</label>
              <input [(ngModel)]="userCreation.clientInfo.Name" name="ClientName" type="text" class="form-control" required #name="ngModel">
              <div *ngIf="!name.valid && name.touched" class="alert alert-danger">
                <div *ngIf="name.hasError('required') && name.touched">Client Name is required</div>
              </div>
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <label>GST Number</label>
              <input [(ngModel)]="userCreation.clientInfo.GST" name="GST_Number" type="text" class="form-control" #gst="ngModel">
            </div>
          </div>

        </div>

        <div class="form-group">
          <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <label>Address Line 1</label>
              <input [(ngModel)]="userCreation.clientInfo.Address1" name="Address_Line_1" type="text" class="form-control" #address="ngModel">
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <label>Address Line 2</label>
              <input [(ngModel)]="userCreation.clientInfo.Address2" name="Address_Line_2" type="text" class="form-control">
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <label>City</label>
              <input [(ngModel)]="userCreation.clientInfo.City" name="City" type="text" class="form-control" #city="ngModel">
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <label>Pincode</label>
              <input [(ngModel)]="userCreation.clientInfo.Pincode" name="Pincode" type="text" class="form-control" pattern="^[1-9][0-9]{5}$" #pincode="ngModel">
              <div *ngIf="!pincode.valid && pincode.touched" class="alert alert-danger">
                <div *ngIf="pincode.hasError('pattern') && pincode.touched">Please Enter a Valid Pincode</div>
             </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <label>Email</label>
              <input [(ngModel)]="userCreation.clientInfo.Email" name="Email" type="email" class="form-control" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" #email="ngModel">
              <div *ngIf="!email.valid && email.touched" class="alert alert-danger">
                <div *ngIf="email.hasError('pattern') && email.touched">Please Enter a Valid Email Address</div>
              </div>
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <label>Phone Number</label>
              <input [(ngModel)]="userCreation.clientInfo.PhoneNumber" name="PhoneNumber" type="text" class="form-control" pattern="^(\+\d{1,3}[- ]?)?\d{10}$" #mobile="ngModel">
              <div *ngIf="!mobile.valid && mobile.touched" class="alert alert-danger">
                <div *ngIf="mobile.hasError('pattern') && mobile.touched">Please Enter a Valid Phone Number</div>
              </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <button (click)="userCreation.EditUserInformation()" class="btn btn-block"  [disabled]="!editClientForm.form.valid" style="background: #000066;color: white;"><span>Save</span></button>
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
              <button (click)="userCreation.CancelEdit()" class="btn btn-block"  style="background: white;color: #000066;border: 1px solid #000066;"><span>Cancel</span></button>
            </div>
          </div>

        </div>

      </ng-container>
    </form>
  </ng-container>
  <app-loading-spinner *ngIf="userCreation.showSpinner"> </app-loading-spinner>
</div>

<style type="text/css">

  .unselected-btn {
    background: white !important;
    border: 1px solid #000066 !important;
    color: #000066 !important;
}

.selected-btn {
    background: #000066 !important;
    border: 1px solid #000066 !important;
    color: white !important;
}
  </style>